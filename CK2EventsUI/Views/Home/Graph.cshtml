
@model CK2Events.ViewModels.EventsViewModel
@{
    ViewData["Title"] = @Model.files;
}
<div class="hbox cy-container">
    <!-- <div class="cy-row"><div class="test" id="cy"%></div></div> -->
    <div class="cy-row" id="cy"></div>
    
    <div class="cy-details" id="detailsTarget"></div>

</div>

@section Scripts {
          <link href="https://cdn.jsdelivr.net/npm/cytoscape-navigator@1.3.1/cytoscape.js-navigator.css" rel="stylesheet" type="text/css" />

<script src="http://cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.js"></script>
<link rel="stylesheet" href ="http://cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/0.19.47/system.js"></script>
<script>
    SystemJS.config({
        map:{
            'cytoscape' : 'https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.2.6/cytoscape.js',
            'graph': '../js/graph.js',
            'cytoscape-qtip':'../js/cytoscape-qtip.js',
            'dagre':'https://cdn.rawgit.com/cpettitt/dagre/v0.7.4/dist/dagre.min.js',
            'cytoscape-dagre':'https://cdn.rawgit.com/cytoscape/cytoscape.js-dagre/1.5.0/cytoscape-dagre.js',
            'cytoscape-navigator':'https://cdn.jsdelivr.net/npm/cytoscape-navigator@1.3.1/cytoscape-navigator.min.js',
            'cytoscape-canvas':'https://cdn.jsdelivr.net/npm/cytoscape-canvas@3.0.1/dist/cytoscape-canvas.min.js',
            'handlebars' :'https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.11/handlebars.js'
        },
        bundles:{
            'graph':'graph',
            'cytoscape':'cytoscape',
            'cytoscape-qtip':'cytoscape-qtip',
            'dagre':'dagre',
            'cytoscape-dagre':'cytoscape-dagre',
            'cytoscape-navigator':'cytoscape-navigator',
            'cytoscape-canvas':'cytoscape-canvas',
            'handlebars' : 'handlebars'
        }
    })
        SystemJS.import('dagre').then(function(dagre){
        SystemJS.import('cytoscape').then(function(cytoscape){
        SystemJS.import('cytoscape-dagre').then(function(cytoscapedagre){
        SystemJS.import('cytoscape-qtip').then(function(cyqtip) {
        SystemJS.import('cytoscape-navigator').then(function(nav){
   SystemJS.import('graph').then(function(graph){     graph.go('@Html.Raw(Model.files)', @(Model.settings.bundleEdges ? "true" : "false"), '@Model.game') });
        }); 
        });
        });
        });
        });
    $(function () { 
});
</script>
}